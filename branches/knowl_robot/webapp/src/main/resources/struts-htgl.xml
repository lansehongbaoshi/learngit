<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

    <package name="htgl" extends="knowledge-default" namespace="/htgl">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="index">
            <result name="success" type="tiles">htgl.index</result>
        </action>
        <action name="listSystem" class="systemActionBean" method="getSystems"></action>
        <action name="listTag" class="tagActionBean" method="list"></action>
    </package>
    
    <package name="htgl.search" extends="knowledge-default" namespace="/htgl/search">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="searchindex" class="knowledgeActionBean" method="searchindex">
            <result name="success" type="tiles">htgl.search.index</result>
        </action>
        <action name="showKnowledge" class="knowledgeActionBean" method="getKnow">
            <result name="success" type="tiles">htgl.knowledge.show</result>
        </action>
        <action name="searchAllKnow" class="htglSearchActionBean" method="searchAllKnow"></action>
    </package>
    
    <package name="htgl.knowledge" extends="knowledge-default" namespace="/htgl/knowledge">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="searchindex" class="knowledgeActionBean" method="searchindex">
            <result name="success" type="tiles">htgl.knowledge.search.index</result>
        </action>
        <action name="addindex">
            <result name="success" type="tiles">htgl.knowledge.add.index</result>
        </action>
        <action name="addKnowledge" class="knowledgeActionBean" method="addKnowledge">
            <result name="success" type="redirect">/htgl/knowledge/showKnowledge.action?id=${id}&amp;from=add</result>
        </action>
        <action name="modifyindex" class="knowledgeActionBean" method="modifyindex">
            <result name="success" type="tiles">htgl.knowledge.modify.index</result>
        </action>
        <action name="updateKnowledge" class="knowledgeActionBean" method="updateKnowledge">
            <result name="success" type="redirect">/htgl/knowledge/showKnowledge.action?id=${id}&amp;from=update</result>
        </action>
        <action name="updateKnowledgeTime" class="knowledgeActionBean" method="updateKnowledgeTime">
            <result name="success" type="redirect">/htgl/knowledge/showKnowledge.action?id=${id}&amp;from=update</result>
        </action>
        <action name="delKnowledge" class="knowledgeActionBean" method="delKnowledge">
        </action>
        <action name="showKnowledge" class="knowledgeActionBean" method="getKnow">
            <result name="success" type="tiles">htgl.knowledge.show</result>
        </action>
        <action name="showDiscussContent" class="knowledgeActionBean" method="showDiscussContent">
        </action>
    </package>
    
    <package name="htgl.system" extends="knowledge-default" namespace="/htgl/system">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="listSystem" class="systemActionBean" method="getSystems"></action><!-- ajax -->
        <action name="listSystems" class="systemActionBean" method="listSystems"><!-- not ajax -->
            <result name="success" type="tiles">htgl.system.list</result>
        </action>
        <action name="updateSystemIndex" class="systemActionBean" method="updateIndex">
            <result name="success" type="tiles">htgl.system.modify</result>
        </action>
        <action name="updateSystem" class="systemActionBean" method="update">
            <result name="success" type="redirect">/htgl/system/listSystems.action</result>
        </action>
        <action name="addSystemIndex">
            <result name="success" type="tiles">htgl.system.add</result>
        </action>
        <action name="addSystem" class="systemActionBean" method="add">
            <result name="success" type="redirect">/htgl/system/listSystems.action</result>
        </action>
        <action name="delSystem" class="systemActionBean" method="delete">
            <result name="success" type="redirect">/htgl/system/listSystems.action</result>
        </action>
        <action name="list" class="systemActionBean" method="list">
            <result name="success">/htgl/system/addTag.jsp</result>
        </action>
        <action name="updateTag" class="systemActionBean" method="updateTag">
        </action>
    </package>
    
    <package name="htgl.tag" extends="knowledge-default" namespace="/htgl/tag">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="index">
            <result name="success" type="tiles">htgl.tag.list</result>
        </action>
        <action name="list" class="tagActionBean" method="list"></action>
        <action name="addIndex">
            <result name="success" type="tiles">htgl.tag.add</result>
        </action>
        <action name="add" class="tagActionBean" method="add">
            <result name="success" type="redirect">/htgl/tag/index.action?systemId=${systemId}&amp;</result>
        </action>
        <action name="updateIndex" class="tagActionBean" method="updateIndex">
            <result name="success" type="tiles">htgl.tag.modify</result>
        </action>
        <action name="update" class="tagActionBean" method="update">
            <result name="success" type="redirect">/htgl/tag/index.action?systemId=${systemId}&amp;</result>
        </action>
        <action name="delete" class="tagActionBean" method="delete">
        </action>
    </package>
    
    <package name="htgl.recycle" extends="knowledge-default" namespace="/htgl/recycle">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="index">
            <result name="success" type="tiles">htgl.recycle.index</result>
        </action>
        <action name="list" class="recycleActionBean" method="list"></action>
        <action name="rollback" class="recycleActionBean" method="rollback"></action>
        <action name="delKnowledgePermanently" class="recycleActionBean" method="delKnowledgePermanently">
        </action>
    </package>
    
    <package name="htgl.file" extends="knowledge-default" namespace="/htgl/file">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="up" class="fileActionBean" method="upfile"></action>
    </package>
    
    <package name="htgl.view" extends="knowledge-default" namespace="/htgl/view">
        <interceptors>
          <interceptor-stack name="knowledgeStack">
              <interceptor-ref name="chsiDefaultStack"></interceptor-ref>
              <interceptor-ref name="store">
                  <param name="operationMode">AUTOMATIC</param>
              </interceptor-ref>
          </interceptor-stack>
        </interceptors>
        <action name="viewKnowledge" class="knowledgeViewActionBean" method="viewKnowledge">
            <result name="success">/htgl/view/viewknowledge.jsp</result>
        </action>
    </package>
    
</struts>